<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;}
.query {
	margin-top: 20px;
	padding-bottom: 10px;
	border-bottom: 1px dotted #000000;
}

#bank,#other,#catering {
	font-size: 18px;
	background-color: #ffffff;
	width: 68px;
	height: 27px;
	border: 1px solid #aaaaaa;
	margin-left: 20px;
}

#hotel {
	font-size: 18px;
	color: #ffffff;
	background-color: #419cd5;
	width: 68px;
	height: 27px;
	border: 1px solid #aaaaaa;
	margin-left: 20px;
}
</style>
<script type="text/javascript" src="http://api.map.baidu.com/api?key=&v=1.4&services=true"></script>
<title>根据中心点关键字周边搜索</title>
</head>
<body>
<div id="searchBar">
	<div class="query">
		<form>
			<button id="hotel">酒店</button>
			<button id="bank">银行</button>
			<button id="other">酒店</button>
			<button id="catering">餐饮</button>
		</form>
	</div>	
</div>
<div id="allmap"></div>
</body>
</html>
<script type="text/javascript">

var map = new BMap.Map("allmap"); // 创建Map实例
map.centerAndZoom(new BMap.Point(113.40132,23.050898), 16); // 设置中心点坐标以及地图层级
var local = new BMap.LocalSearch(map, {
	  renderOptions:{map: map, autoViewport:true}
	});
local.searchInBounds("酒店", map.getBounds());


var hotel = document.getElementById("hotel");
var bank = document.getElementById("bank");
// var  = document.getElementById("hotel");
var catering = document.getElementById("catering");
hotel.onclick = function(){
	map.clearOverlays();
	local.searchInBounds("酒店", map.getBounds());
	return false;
};
bank.onclick = function(){
	map.clearOverlays();
	local.searchInBounds("银行", map.getBounds());
	return false;
};
// hotel.onclick = function(){
//	map.clearOverlays();
// 	local.searchInBounds("酒店", map.getBounds());
//  return false;
// };
catering.onclick = function(){
	map.clearOverlays();
	local.searchInBounds("餐饮", map.getBounds());
	return false;
};
</script>

